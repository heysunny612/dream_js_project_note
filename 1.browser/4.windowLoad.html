<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="test.js" defer></script>
    <!--defer은 HTML이 모두 파싱이된 후,DOMContentLoaded가 출력되기 이전에 먼저 호출됨 -->
    <!--defer 을 쓰면,DOMContentLoaded 와 함께쓰면, 서로 비슷한 시점에 로드되어 많이쓰임 -->
  </head>
  <body>
    <script>
      // ONLY HTML이 완료된 후,
      window.addEventListener('DOMContentLoaded', () => {
        console.log('DOMcontentLoaded');
        //빠르게 사용자가 볼 수 있는 장점이있음
      });
      // AFTER resources (css,images 등 )
      window.addEventListener('load', () => {
        console.log('load');
      });

      // 사용자가 페이지를 나갈때 불려지는 함수
      // BEFORE unload
      window.addEventListener('beforeunload', () => {
        console.log('before unload');
        //빠르게 사용자가 볼 수 있는 장점이있음
      });
      // 로딩이 안될때 불러지는 함수
      // resource is being unloaded
      window.addEventListener('unload', () => {
        console.log('unload');
      });
    </script>
  </body>
</html>
